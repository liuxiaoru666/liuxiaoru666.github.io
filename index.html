<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="L6Lm9d5Crl">
  
  
  
  
  <title>刘晓儒个人博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="刘晓儒个人博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="刘晓儒个人博客">
<meta property="og:locale" content="zh">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="刘晓儒个人博客">
  
    <link rel="alternative" href="/atom.xml" title="刘晓儒个人博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet">
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head></html>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

        <a href="/" class="profilepic">
            
            <img lazy-src="/img/avatar.png" class="js-avatar">
            
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">刘晓儒的博客</a></h1>
        </hgroup>
        
        
            <form>
                <input type="text" class="st-default-search-input search" id="local-search-input" placeholder="搜索一下" autocomplete="off">
            </form>
            <div id="local-search-result"></div>
        
        
            <script type="text/javascript">
                (function() {
                    'use strict';
                    function getMatchData(keyword, data) {
                        var matchData = [];
                        for(var i =0;i<data.length;i++){
                            if(data[i].title.toLowerCase().indexOf(keyword)>=0) 
                                matchData.push(data[i])
                        }
                        return matchData;
                    }
                    var $input = $('#local-search-input');
                    var $resultContent = $('#local-search-result');
                    $input.keyup(function(){
                        $.ajax({
                            url: '/search.json',
                            dataType: "json",
                            success: function( json ) {
                                var str='<ul class=\"search-result-list\">';                
                                var keyword = $input.val().trim().toLowerCase();
                                $resultContent.innerHTML = "";
                                if ($input.val().trim().length <= 0) {
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                }
                                var results = getMatchData(keyword, json);
                                if(results.length === 0){
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                } 
                                for(var i =0; i<results.length; i++){
                                    str += "<li><a href='"+ results[i].url +"' class='search-result-title'>"+ results[i].title +"</a></li>";
                                }
                                str += "</ul>";
                                $resultContent.empty();
                                $resultContent.append(str);
                                $('#switch-area').hide();
                            }
                        });
                    });
                })();
            </script>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a  href="/archives/">所有文章</a></li>
                        
                            <li><a  href="/categories/开发工具/">玩转开发工具</a></li>
                        
                            <li><a  href="/categories/digital">玩转数码</a></li>
                        
                            <li><a  href="/categories/algorithm">算法学习</a></li>
                        
                            <li><a  href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl github"  target="_blank" href="/xxxxx" title="github">github</a>
                            
                                <a class="fl weibo"  target="_blank" href="/xxxxxxxx" title="weibo">weibo</a>
                            
                                <a class="fl rss"  target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/JavaScript/" style="font-size: 18px;">JavaScript</a> <a href="/tags/Vue/" style="font-size: 12px;">Vue</a> <a href="/tags/http/" style="font-size: 14px;">http</a> <a href="/tags/http协议/" style="font-size: 10px;">http协议</a> <a href="/tags/js模块化/" style="font-size: 20px;">js模块化</a> <a href="/tags/前端安全防御/" style="font-size: 10px;">前端安全防御</a> <a href="/tags/浏览器/" style="font-size: 12px;">浏览器</a> <a href="/tags/知识点梳理/" style="font-size: 16px;">知识点梳理</a>
                    </div>
                </section>
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://blog.csdn.net/baidu_21483933">csdn</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://segmentfault.com/blog/maocg_web">segmentfault</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.jianshu.com/users/eb37ef89c746/latest_articles">简书</a>
                    
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">爱动漫,爱游戏,爱编程,爱运动,爱的太多了!</div>
                </section>
                
            </div>
        </div>
    </header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">刘晓儒的博客</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/avatar.png" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">刘晓儒的博客</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/categories/开发工具/">玩转开发工具</a></li>
                
                    <li><a href="/categories/digital">玩转数码</a></li>
                
                    <li><a href="/categories/algorithm">算法学习</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="github" target="_blank" href="/xxxxx" title="github">github</a>
                    
                        <a class="weibo" target="_blank" href="/xxxxxxxx" title="weibo">weibo</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-ES-Module" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/08/24/ES-Module/" class="article-date">
      <time datetime="2019-08-24T03:27:49.000Z" itemprop="datePublished">2019-08-24</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/08/24/ES-Module/">ES Module</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>ES module默认使用严格模式<br>javascript严格模式整理，所以松散模式下的一些不会报错的地方在使用ES module时要注意</p>
<h3 id="输出方式"><a href="#输出方式" class="headerlink" title="输出方式"></a>输出方式</h3><blockquote>
<p>将整个声明输出</p>
</blockquote>
<ul>
<li>简单的变量</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export var a = 1;</span><br></pre></td></tr></table></figure>

<ul>
<li>方法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export function fn()&#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>类</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export class c&#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>放在花括号内输出</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var a = 1;</span><br><span class="line">var b = 2;</span><br><span class="line">export &#123; a , b &#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function fn()&#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line">export &#123; fn &#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">class c&#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line">export &#123; c &#125;;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>as语法</p>
</blockquote>
<p>ES module可以给输出的内容重命名，使用as来实现</p>
<p>var a = 1;<br>export { a as b };</p>
<h3 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h3><ul>
<li>命令所在</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">export命令可以写在当前模块顶层作用域的任何地方，写在块级作用域中会报错</span><br><span class="line"></span><br><span class="line">if (true) &#123;</span><br><span class="line">    export var b = 2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>动态性</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export命令输出的值是动态性的，在当前文件变量修改时，export输出的值也会随之变化</span><br><span class="line"></span><br><span class="line">export var a = 1;</span><br><span class="line">setTimeout(() =&gt; a = 2, 500);</span><br></pre></td></tr></table></figure>

<p>上面这段代码，在500ms后输出的a的值会改变</p>
<h3 id="输入方式"><a href="#输入方式" class="headerlink" title="输入方式"></a>输入方式</h3><blockquote>
<p>花括号引入</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import &#123;…&#125; from …</span><br><span class="line"></span><br><span class="line">import &#123; a &#125; from &apos;xxx.js&apos;</span><br><span class="line">console.log(a);</span><br></pre></td></tr></table></figure>

<p>花括号内的内容是其他模块export输出的内容，用as语法时是写 as 后的名称<br>from后面的路径可以是绝对路径，相对路径，或者是模块名</p>
<blockquote>
<p>as语法</p>
</blockquote>
<p>将引入的内容使用另一种别名，即等同于赋值给另一个变量<br>import { a as b } from ‘xxx.js’</p>
<blockquote>
<p>导入整个模块<br>import ‘module’</p>
</blockquote>
<h3 id="注意点-1"><a href="#注意点-1" class="headerlink" title="注意点"></a>注意点</h3><h4 id="sington"><a href="#sington" class="headerlink" title="sington"></a>sington</h4><p>import命令是sington即单例模式的，多次引用只会被当作引用一次<br>（单例模式只在第一次引用时引用，后面的引用会直接使用之前引用的内容：JavaScript设计模式笔记（一）单例模式)）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import &#123; a &#125; from &apos;xxx.js&apos;</span><br><span class="line">import &#123; a &#125; from &apos;xxx.js&apos;</span><br></pre></td></tr></table></figure>

<p>这里写了两句import语句，实际上只import了一次</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import &#123; a &#125; from &apos;module.js&apos;</span><br><span class="line">import &#123; b &#125; from &apos;module.js&apos;</span><br><span class="line">import &#123; a , b &#125; from &apos;module.js&apos;</span><br></pre></td></tr></table></figure>

<p>上面代码中的这两种情况，在执行上是完全相同的，因为是引入同一个模块中的两个相同的变量</p>
<h4 id="只读性"><a href="#只读性" class="headerlink" title="只读性"></a>只读性</h4><p>import命令引入的变量都是只读的，不能对其重新赋值，如果对import的变量进行赋值，则会报Syntax Error的错误</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mport &#123; a &#125; from &apos;xxx.js&apos;</span><br><span class="line">a = 2; // Syntax Error : &apos;a&apos; is read-only</span><br></pre></td></tr></table></figure>

<h4 id="提升性"><a href="#提升性" class="headerlink" title="提升性"></a>提升性</h4><p>和var的变量声明提升一样，import引入的变量也会提升到整个模块的头部，被首先执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">console.log(a);</span><br><span class="line">import &#123; a &#125; from &apos;xxx.js&apos;</span><br></pre></td></tr></table></figure>

<p>这里的a可以正常输出</p>
<h4 id="静态执行"><a href="#静态执行" class="headerlink" title="静态执行"></a>静态执行</h4><p>import是静态执行的，和require不一样，import是在编译的时候执行的，所以不能使用表达式和变量，也不能在块级作用域中使用<br>下面的代码都是错的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import &#123; &apos;a&apos;+&apos;b&apos; &#125; from &apos;xxx.js&apos;</span><br><span class="line"></span><br><span class="line">let a = &apos;b&apos;;</span><br><span class="line">import &#123; a &#125; from &apos;xxx.js&apos;</span><br><span class="line"></span><br><span class="line">if(true)&#123;</span><br><span class="line">    import &#123; b &#125; from &apos;xxx.js&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js模块化/">js模块化</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-CMD" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/08/24/CMD/" class="article-date">
      <time datetime="2019-08-24T03:15:34.000Z" itemprop="datePublished">2019-08-24</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/08/24/CMD/">CMD</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>CMD依赖于sea.js，在语法上杂糅了CommonJS和AMD，可以同时使用同步加载和异步加载，适用于web浏览器端模块，同样的，在CMD中，一个文件代表一个模块</p>
<h3 id="sea-js语法"><a href="#sea-js语法" class="headerlink" title="sea.js语法"></a>sea.js语法</h3><p>sea.js基本语法采用define（function(){})，看似和AMD一样，但是sea.js不管有没有暴露模块或者引入模块，都只有这一个参数，通过给这个参数方法传入不同的参数来达到引入模块和暴露模块的效果</p>
<h4 id="只需引入的模块"><a href="#只需引入的模块" class="headerlink" title="只需引入的模块"></a>只需引入的模块</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">define(function(require)&#123;</span><br><span class="line">    // 引入同步依赖</span><br><span class="line">    var module1  = require(&apos;./module1&apos;);</span><br><span class="line">    // 引入异步依赖</span><br><span class="line">    require.async(&apos;./module2&apos;,function(m3)&#123;</span><br><span class="line">        // 回调方法</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>require表示引入依赖，如通CommonJS的require一样，但是有一点不同的是，在CMD中，可以通过使用require.async来异步引入模块，require.async传入两个参数，第一个参数为要导入的模块，第二个参数为导入模块成功后的回调函数，即异步处理</p>
<h4 id="需要暴露的模块"><a href="#需要暴露的模块" class="headerlink" title="需要暴露的模块"></a>需要暴露的模块</h4><ul>
<li>无依赖的模块</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">define(function(require,exports,module)&#123;</span><br><span class="line">    // ...</span><br><span class="line">    // 暴露模块</span><br><span class="line">    exports.xxx = val;</span><br><span class="line">    module.exports = val;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>有依赖的模块</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">define(function(require,exports,module)&#123;</span><br><span class="line">    // ...</span><br><span class="line">    // 暴露模块</span><br><span class="line">    exports.xxx = val;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>这里的exports和module和CommonJS中的module.exports一个道理，也是将exports对象输出，module指向的就是本模块，而exports指向的是module.exports</p>
<h3 id="在浏览器中引入"><a href="#在浏览器中引入" class="headerlink" title="在浏览器中引入"></a>在浏览器中引入</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;js/libs/sea.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    seajs.use(&quot;./js/main.js&quot;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>通过使用seajs.use()方法引入main.js，再通过main.js去依赖各个模块来加载所有的模块</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js模块化/">js模块化</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-AMD" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/08/24/AMD/" class="article-date">
      <time datetime="2019-08-24T02:53:34.000Z" itemprop="datePublished">2019-08-24</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/08/24/AMD/">AMD</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>AMD也是一个模块化的规范，它以require.js为基础，每个文件代表一个模块，与CommonJS不同的是，AMD是一个异步模块实现规范，且AMD更加侧重于浏览器，在运行时通过提前加载依赖，等到依赖加载完成再实现对应的方法来保证方法的正确实现</p>
<h3 id="require-js的语法"><a href="#require-js的语法" class="headerlink" title="require.js的语法"></a>require.js的语法</h3><p>这里使用一个样例来说说语法<br>文件结构<br><img src="https://img-blog.csdnimg.cn/20190813161605239.png" alt="Image text"></p>
<h4 id="define语法"><a href="#define语法" class="headerlink" title="define语法"></a>define语法</h4><ul>
<li>没有依赖的模块<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// module1.js</span><br><span class="line">define(function() &#123;</span><br><span class="line">    let msg = &apos;module1&apos;;</span><br><span class="line">    let getMsg = function() &#123;</span><br><span class="line">        return msg</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123;</span><br><span class="line">        getMsg</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>在不依赖模块的时候，define传入一个参数，该参数为一个立即执行的方法，通过return可以将define内的变量，方法输出，而这些输出是作为着整个文件的输出</p>
<h4 id="有依赖的模块"><a href="#有依赖的模块" class="headerlink" title="有依赖的模块"></a>有依赖的模块</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// module2.js</span><br><span class="line">define([&apos;module1&apos;], function(m1) &#123;</span><br><span class="line">    let msg = &apos;module2&apos;;</span><br><span class="line">    let showMsg = function() &#123;</span><br><span class="line">        console.log(msg, m1.getMsg());</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123;</span><br><span class="line">        showMsg</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>在依赖模块的时候，define传入两个参数，第一个参数是要依赖的依赖数组，第二个参数是一个异步方法，当依赖数组中的依赖加载完成后，就会执行第二个参数的方法，同样地在这里通过return来输出，第二个参数的方法的参数对应了前面的模块数组中的模块，比如这里的m1就指向了module1<br>这里的依赖数组的字符串名需要通过顶部js文件requirejs.config来配置<br>如果使用多个define输出，那只有第一个会真正地输出</p>
<h3 id="requirejs语法"><a href="#requirejs语法" class="headerlink" title="requirejs语法"></a>requirejs语法</h3><p>requirejs语法用在顶部文件，即页面最终引用的文件，只会依赖其他模块而不会输出，对应的模块路径也在这里配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// main.js</span><br><span class="line">requirejs.config(&#123;</span><br><span class="line">    baseUrl:&apos;js/&apos;, // 基本路径 出发点根目录，这里就是根目录下的js文件夹</span><br><span class="line">    paths: &#123; // 配置路径 默认会加上.js后缀，且不会判断是否已经有该后缀</span><br><span class="line">        module1: &apos;./modules/module1&apos;,</span><br><span class="line">        module2: &apos;./modules/module2&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">requirejs([&apos;module2&apos;], function(m2) &#123;</span><br><span class="line">    m2.showMsg()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>这里将module1的模块名配置到根目录下的js文件（看baseUrl）下的modules的module1.js文件，module2也一样，这里注意不能写上.js后缀，在引用时会自动加上.js后缀，如果我们自己引用了就会出现下图的错误</p>
<p>因为main.js文件会自动引入其他模块，所以我们最终只需要引入main.js</p>
<p>按照官方文档的写法，在html中这么引入main.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script data-main=&quot;js/main.js&quot; src=&quot;js/libs/require.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>在加载完require.js后加载data-main对应的文件</p>
<h3 id="对第三方库的引用"><a href="#对第三方库的引用" class="headerlink" title="对第三方库的引用"></a>对第三方库的引用</h3><p>使用AMD引入第三方库的时候，要考虑第三方库是否支持使用AMD，如jQuery中有一段代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if ( typeof define === &quot;function&quot; &amp;&amp; define.amd ) &#123;</span><br><span class="line">	define( &quot;jquery&quot;, [], function() &#123;</span><br><span class="line">		return jQuery;</span><br><span class="line">	&#125; );</span><br></pre></td></tr></table></figure>

<p>这段代码表示当我们使用AMD的时候，jQuery使用define以”jquery”为名输出了jQuery对象，所以我们在配置的时候要注意对jQuery要配置”jquery”</p>
<p>然而，并不是所有的第三方库都支持AMD，如angular，因此，我们在引用angular时，要按下面的配置方法来配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">requirejs.config(&#123;</span><br><span class="line">    baseUrl:&apos;js/&apos;,</span><br><span class="line">    paths: &#123; </span><br><span class="line">        module1: &apos;./modules/module1&apos;,</span><br><span class="line">        module2: &apos;./modules/module2&apos;,</span><br><span class="line">        angular: &apos;./libs/angular&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    shim: &#123;</span><br><span class="line">        angular: &#123;</span><br><span class="line">            exports: &apos;angular&apos; // 让angular.js使用&apos;angular&apos;为名输出</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js模块化/">js模块化</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-CommonJS" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/08/24/CommonJS/" class="article-date">
      <time datetime="2019-08-24T02:36:58.000Z" itemprop="datePublished">2019-08-24</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/08/24/CommonJS/">CommonJS</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>CommonJS提出JavaScript不仅针对浏览器，它做为一个规范，在服务器端被广泛使用，最常见到的就是node中的使用<br>事实上，node就是基于CommonJS规范来写的，在CommonJS规范中，每个js文件作为一个模块，CommonJS在服务器端和浏览器端的加载是不一样的</p>
<h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><h4 id="暴露模块"><a href="#暴露模块" class="headerlink" title="暴露模块"></a>暴露模块</h4><p>在CommonJS规范中，我们通过module.exports和exports.xxx来暴露模块内部的变量和方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">module.exports = val  </span><br><span class="line">exports.key = val</span><br></pre></td></tr></table></figure>

<p><code>暴露本质：暴露出exports对象</code><br>对于module.exports来说，等同于将等号后面的内容覆盖原来的exports对象<br>而对于exports.xxx来说，就是在exports对象上增添属性<br>对于上面那两行代码来说，本质上就是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">module.exports = val：将val赋值给exports对象，结果就是exports=val</span><br><span class="line">exports.key = val：将val赋值给exports对象的key属性，若没有就新建该属性，结果就是exports=&#123;key : val&#125;</span><br></pre></td></tr></table></figure>

<p><code>通过本质可以看出</code><br>module.exports因为会修改整个exports对象，所以重复写会使得后写的覆盖先写的，而exports.xxx只会不断添加属性，除非xxx是相同的，否则就可以一直叠加下去</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">    foo()&#123;</span><br><span class="line">        console.log(&apos;foo&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">module.exports = &#123;</span><br><span class="line">    bar()&#123;</span><br><span class="line">        console.log(&apos;bar&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这里，后写的module.exports会把之前的module.exports覆盖掉，exports对象将只剩一个bar方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">exports.foo = function()&#123;</span><br><span class="line">    console.log(&apos;foo&apos;);</span><br><span class="line">&#125;</span><br><span class="line">exports.bar = function()&#123;</span><br><span class="line">    console.log(&apos;bar&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>而这里的exports.xxx则会使得暴露出去的exports对象同时有foo和bar方法<br>此外，要注意的是，CommonJS输出的内容是值的拷贝，也即是说在导入模块后，修改模块方法并不会影响到原有的模块的内容</p>
<h4 id="引入模块"><a href="#引入模块" class="headerlink" title="引入模块"></a>引入模块</h4><p><code>require(xxx)</code>  </p>
<ul>
<li>第三方模块：直接使用模块名<br>如下面使用node创建服务器，就直接引用了http模块（代码来自node官网）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// node创建服务器的代码</span><br><span class="line">const http = require(&apos;http&apos;);</span><br><span class="line"></span><br><span class="line">const hostname = &apos;127.0.0.1&apos;;</span><br><span class="line">const port = 3000;</span><br><span class="line"></span><br><span class="line">const server = http.createServer((req, res) =&gt; &#123;</span><br><span class="line">  res.statusCode = 200;</span><br><span class="line">  res.setHeader(&apos;Content-Type&apos;, &apos;text/plain&apos;);</span><br><span class="line">  res.end(&apos;Hello World\n&apos;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(port, hostname, () =&gt; &#123;</span><br><span class="line">  console.log(`Server running at http://$&#123;hostname&#125;:$&#123;port&#125;/`);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>自定义模块：使用文件路径，后缀名默认为js<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// module.js</span><br><span class="line">exports.foo = function()&#123;</span><br><span class="line">	console.log(&apos;foo&apos;);</span><br><span class="line">&#125;</span><br><span class="line">// mian.js</span><br><span class="line">const module = require(&apos;./module.js&apos;)</span><br><span class="line">module.foo()</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>使用require时要注意相对路径的写法</p>
<blockquote>
<p>‘/xxx’ ：表示根目录的xxx文件；<br>‘./xxx’ ：表示和当前文件同一文件夹下的xxx文件；<br>‘…/xxx’ ：表示当前文件的上级目录的xxx文件；<br>’xxx’：表示要在node_modules寻找相应的模块</p>
</blockquote>
<h3 id="加载机制"><a href="#加载机制" class="headerlink" title="加载机制"></a>加载机制</h3><p>在服务器端模块的加载是同步的：可能出现阻塞<br>在浏览器端模块需要提前编译打包处理，即使请求发送到了服务端，但是之前的模块还没加载好，所以客户端会一直等待<br>正因其加载的不同，CommonJS更适合在服务器端使用，在服务器中同步加载，只要将所有导入都放在模块（文件）顶部，我们就可以保证在引用其他模块的方法前已经加载好这些模块，而对于浏览器环境来说，我们不知道网络情况如何，如果我们发起了一个异步请求，而这些模块还没加载好的时候我们执行了接下来的代码，而这些代码里面又需要这个模块的方法，那就会报错<br>就如下面的代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">require(&apos;jquery&apos;)</span><br><span class="line">var _body = $(&apos;body&apos;)</span><br></pre></td></tr></table></figure>

<p>在浏览器环境下，如果jquery模块还没加载好，那么$(‘body’)就会报错，所以在浏览器中不适合使用CommonJS规范<br>此外，浏览器不认识require，需要提前处理语法，可以通过使用browserify打包来处理</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js模块化/">js模块化</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-js模块化由来" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/08/24/js模块化由来/" class="article-date">
      <time datetime="2019-08-24T02:25:24.000Z" itemprop="datePublished">2019-08-24</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/08/24/js模块化由来/">js模块化由来</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="无模块概念"><a href="#无模块概念" class="headerlink" title="无模块概念"></a>无模块概念</h3><p>JavaScript模块化的历史漫长，一开始，正如在我们初学JavaScript的时候，写的代码不多，我们都是将代码写在一个文件里，因为代码量不多，所以没有感到什么不适，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function foo()&#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line">function bar()&#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但是当代码开始变多的时候，我们开始感到不适，我们很难找到自己写过的函数，往往会出现命名重复覆盖的现象，挤在一起来的的问题就是</p>
<ol>
<li>容易污染全局</li>
<li>不便于维护</li>
</ol>
<h3 id="以命名空间作为模块"><a href="#以命名空间作为模块" class="headerlink" title="以命名空间作为模块"></a>以命名空间作为模块</h3><p>后来，为了减少对环境的污染，采用了<code>Namespace模式</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var MYFUN=&#123;</span><br><span class="line">    foo:function()&#123;&#125;,</span><br><span class="line">    bar:function()&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过这样来减少了全局上的变量数目，而且我们可以将方法写在这些命名空间里，只要命名空间命名语义化，我们不难找到自己的方法<br>但是该命名空间本质上是对象，很容易被修改，不安全，我们可以随意在命名空间外查看命名空间内的变量，方法，即命名空间对象的属性，而且也能随意修改其中的内容</p>
<h3 id="以匿名函数作为封闭模块"><a href="#以匿名函数作为封闭模块" class="headerlink" title="以匿名函数作为封闭模块"></a>以匿名函数作为封闭模块</h3><p>为了解决安全问题，使用了匿名函数<code>IIFE</code>模式，封闭了“模块”内部的变量，方法，只将需要被调用的内容以return的方式暴露出去，这样在全局看不到匿名函数里面的逻辑，相对安全</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var MODULE = (function()&#123;</span><br><span class="line">    var _private = 1;</span><br><span class="line">    var foo = function()&#123;</span><br><span class="line">        console.log(&apos;_private: &apos;, _private);</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123;</span><br><span class="line">        foo:foo</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">// 调用方法</span><br><span class="line">Module.foo()</span><br><span class="line">// 无法获取其中的私有变量</span><br><span class="line">Module._private // undefined</span><br></pre></td></tr></table></figure>

<p>然而，这样还存在一定的问题，我们还需要能将其他模块引入当前模块</p>
<h3 id="引入依赖-模块模式"><a href="#引入依赖-模块模式" class="headerlink" title="引入依赖 模块模式"></a>引入依赖 模块模式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var Module = (function($)&#123;</span><br><span class="line">    var _$body_ = $(&quot;body&quot;); // 通过这样我们可以在匿名函数中使用其他模块的内容，这里使用了jQuery</span><br><span class="line">    var foo = function()&#123;</span><br><span class="line">        console.log(&apos;_private: &apos;, _private);</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123;</span><br><span class="line">        foo:foo</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(jQuery)</span><br></pre></td></tr></table></figure>

<p>这是现在的模块实现的基础，在上面代码中，将jQuery模块导入了匿名函数中，使得在匿名函数中也可以使用jQuery</p>
<p><code>jquery最外层代码</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">( function( global, factory ) &#123;</span><br><span class="line">	// ...</span><br><span class="line">&#125; )( typeof window !== &quot;undefined&quot; ? window : this, function( window, noGlobal ) &#123;</span><br><span class="line">	// ...</span><br><span class="line">	return jQuery;</span><br><span class="line">&#125; )</span><br></pre></td></tr></table></figure>

<p>现在jQuery源码的最外层就是立即执行函数，在调用时传入了window对象，利用window对象暴露接口，所以我们在导入了jQuery后可以直接使用，实际上是使用了window. ，实际上是使用了window.，实际上是使用了window.，通过依赖注入将window对象注入了jQuery，所以看起来我们像是在全局使用了$</p>
<h3 id="为什么要模块化"><a href="#为什么要模块化" class="headerlink" title="为什么要模块化"></a>为什么要模块化</h3><p>正如上面提及的，模块化是为了降低代码的复杂性和耦合性，在代码量很少的时候，我们没有必要使用模块化，但在代码量多的时候，如果不进行模块化，我们的代码会难以阅读，而且也很难去维护</p>
<h3 id="模块化带来的问题"><a href="#模块化带来的问题" class="headerlink" title="模块化带来的问题"></a>模块化带来的问题</h3><p>1.发起的请求变多<br>因为将一个JavaScript文件拆分成多个模块，所以我们要发起多次的javascript请求，<br>2.模块加载顺序错误会带来错误<br>需要注意模块加载的顺序，在需要对应的模块前要加载好该模块，如果在加载某个模块前调用了该模块的方法，自然是会报错的<br>3.依赖模糊<br>如果模块的命名不够语义化，可能会难以看出所要使用的方法来自哪个模块</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js模块化/">js模块化</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-js各种模块化规范的区别" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/08/24/js各种模块化规范的区别/" class="article-date">
      <time datetime="2019-08-24T02:13:43.000Z" itemprop="datePublished">2019-08-24</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/08/24/js各种模块化规范的区别/">js各种模块化规范的区别</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>在对几种模块规范的复习后，总结一下规范的区别和关系<br>CommonJS，AMD，CMD，ES Module</p>
<h3 id="偏向性"><a href="#偏向性" class="headerlink" title="偏向性"></a>偏向性</h3><p>虽然对于这四个规范来说，都可以在浏览器端和服务器端运行，但除了<code>ES Module</code>外，其他都具有一定的偏向性<br>对<code>CommonJS</code>来说，因其模块加载是<code>同步</code>的，没有做好合适的异步处理，所以如果在浏览器环境下的话，会受到网络环境的影响，无法保证模块能及时加载好，所以不太适合<code>在浏览器端使用</code><br>对<code>AMD</code>和<code>CMD</code>来说，是偏向浏览器端的，浏览器端要保证效率，需要<code>采用异步加载</code>，这就需要一个预处理，提前将所需要的模块文件并行加载好，而AMD和CMD恰好就是异步的</p>
<h3 id="CommonJS与AMD的比较"><a href="#CommonJS与AMD的比较" class="headerlink" title="CommonJS与AMD的比较"></a>CommonJS与AMD的比较</h3><ul>
<li>偏向性不同，CommonJS偏向于服务器端，而AMD偏向于浏览器端</li>
<li>CommonJS是同步加载的，而AMD是异步加载的</li>
<li>CommonJS基于node.js，而AMD依赖于require.js</li>
</ul>
<h3 id="AMD与CMD的比较"><a href="#AMD与CMD的比较" class="headerlink" title="AMD与CMD的比较"></a>AMD与CMD的比较</h3><ul>
<li>AMD在加载依赖模块时是提前加载，而CMD是延迟加载<blockquote>
<p>AMD在执行后面的方法前，先将模块加载好，而CMD到了需要的时候才加载对应的模块</p>
</blockquote>
</li>
<li>AMD一般依赖前置，而CMD是依赖就近<blockquote>
<p>AMD将需要使用的依赖前置到define的第一个参数，在顶部加载好后才继续后面的方法，而CMD的依赖一般是到了要使用的时候才引入，所以是依赖就近</p>
</blockquote>
</li>
<li>AMD依赖于require.js而CMD依赖于sea.js</li>
</ul>
<h3 id="CommonJS与ES-Module的比较"><a href="#CommonJS与ES-Module的比较" class="headerlink" title="CommonJS与ES Module的比较"></a>CommonJS与ES Module的比较</h3><ul>
<li>CommonJS输出的是值的拷贝，而ES Module输出的是值的引用<blockquote>
<p>这也就是说，对于CommonJS引入的值来说，只要这个值已经被引入了，那么源模块的该值不管发生什么变化，也不会影响到之前就引入的值，而对于ES Module来说，如果源模块的值发生变化，会连带影响当前引入的值。</p>
</blockquote>
</li>
<li>CommonJS 模块是运行时加载，ES Module是编译时输出接口<blockquote>
<p>CommonJS在js文件运行时，如果遇到require语句，就会先停下来加载对应的模块，对于ES Module，如果遇上了一个import语句，就会生成一个只读的引用，当真正执行到需要改模块的内容时，再通过改引用去获取相应的值</p>
</blockquote>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js模块化/">js模块化</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-computed和watch" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/08/22/computed和watch/" class="article-date">
      <time datetime="2019-08-22T15:43:59.000Z" itemprop="datePublished">2019-08-22</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/08/22/computed和watch/">computed和watch</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h3 id="computed"><a href="#computed" class="headerlink" title="computed"></a>computed</h3><ul>
<li>需要依赖别的属性来动态获得值的时候使用computed</li>
<li>computed 用来监控自己定义的变量，该变量不在data里面声明，直接在computed里面定义
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue/">Vue</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a   href="/2019/08/22/computed和watch/#more">查看更多 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-Vue组件通信" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/08/22/Vue组件通信/" class="article-date">
      <time datetime="2019-08-22T15:43:45.000Z" itemprop="datePublished">2019-08-22</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/08/22/Vue组件通信/">Vue组件通信</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h6 id="父–-gt-子"><a href="#父–-gt-子" class="headerlink" title="父–&gt;子"></a>父–&gt;子</h6><p>父向子传递数据通过props</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//父组件代码</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;header-box :title-txt=&quot;showTitleTxt&quot;&gt;&lt;/header-box&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    import Header from &apos;./header&apos;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &apos;index&apos;,</span><br><span class="line">        components: &#123;</span><br><span class="line">            &apos;header-box&apos;: Header</span><br><span class="line">        &#125;,</span><br><span class="line">        data () &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                showTitleTxt: &apos;首页&apos;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue/">Vue</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a   href="/2019/08/22/Vue组件通信/#more">查看更多 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-js获取宽高及位置方法集合" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/08/22/js获取宽高及位置方法集合/" class="article-date">
      <time datetime="2019-08-22T15:36:24.000Z" itemprop="datePublished">2019-08-22</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/08/22/js获取宽高及位置方法集合/">js获取宽高及位置方法集合</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p><strong>offsetWidth、offsetHeight</strong> <code>元素在水平、垂直方向上占用的空间大小</code>：<br><strong>offsetTop、offsetLeft</strong> 元素的外边框至 <code>offsetParent</code> 元素的内边框之间的像素距离；</p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a   href="/2019/08/22/js获取宽高及位置方法集合/#more">查看更多 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-this指向问题" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/08/22/this指向问题/" class="article-date">
      <time datetime="2019-08-22T15:21:46.000Z" itemprop="datePublished">2019-08-22</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/08/22/this指向问题/">this指向问题</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>从学 JavaScript 的面向对象开始，this 关键字学习就变得尤为的重要。</p>
<p>我一开始看 this 的时候，感觉很复杂，后来在知乎上看到一个人说的话，总结了一下：</p>
<p><code>谁调用函数，this 就指向谁</code>。</p>
<p>在后来的学习中，我验证了一下这句话，发现总结的很好，现在就来详细的讲一下 this 关键字。</p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a   href="/2019/08/22/this指向问题/#more">查看更多 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  

</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2019 刘晓儒的博客
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo &nbsp;&nbsp;</a><a href="https://github.com/maochunguang" target="_blank">Blog</a> by tommy
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >极客到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 1;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'xxxxx', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?xxxxxx";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>



<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(
            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>